{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>Terminal REST API.</p>"},{"location":"idempotency/","title":"Idempotency","text":"<p>You can make idempotent calls any number of times without concern that the server creates  or completes an action on a resource more than once. You can retry idempotent calls that   fail with network timeouts or HTTP 5xx status codes for as long as the server stores the ID.   Idempotency enables you to correlate request payloads with response payloads, eliminate duplicate   requests, and retry failed requests or requests with unclear responses.</p> <p>Success</p> <p>To enforce idempotency on REST API POST calls, use the <code>RequestId</code> request header,  which contains a unique user-generated ID that the server stores for a period of time.</p> <p>Warning</p> <p>For example, when you include a previously specified <code>RequestId</code> header in a request,  iumiCash returns the latest status of the previous request that used that same header.  Conversely, when you omit the <code>RequestId</code> header from a request, iumiCash duplicates the request.</p> Examples RequestResponse <p>Example request with cURL.</p> <p>Tip</p> <p>Here were are using <code>RequestId</code> idempotency key.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/cash_in/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"username\": \"fshevchenko\",\n  \"amount\": 1000,\n  \"system_transaction_id\": \"123456\",\n  \"terminal_id\": \"190AB\",\n  \"fees\": {\n    \"internal_fee\": 10,\n    \"internal_cashback\": 0\n  }\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 201 Created</code></p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"123456\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"cheque_content\": [\n{\n\"label\": \"Created At\",\n\"value\": \"23 May 2022 at 12:36\",\n\"position\": 1,\n\"section\": \"main\"\n},\n{\n\"label\": \"Description\",\n\"value\": \"Cash In for @fshevchenko account\",\n\"position\": 2,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash Transaction\",\n\"value\": \"390IDFE2\",\n\"position\": 3,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal transaction\",\n\"value\": \"123456\",\n\"position\": 4,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal\",\n\"value\": \"190AB\",\n\"position\": 5,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash fee\",\n\"value\": \"0.10 $SBD\",\n\"position\": 6,\n\"section\": \"total\"\n},\n{\n\"label\": \"Amount\",\n\"value\": \"9.90 $SBD\",\n\"position\": 7,\n\"section\": \"total\"\n},\n{\n\"label\": \"Total\",\n\"value\": \"10.00 $SBD\",\n\"position\": 8,\n\"section\": \"total\"\n}\n]\n}\n</code></pre>"},{"location":"requests/","title":"Requests","text":""},{"location":"requests/#api-requests","title":"API requests","text":"<p>To make a REST API request, you combine the HTTP <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, or <code>DELETE</code> method,  the URL to the API service, the URIto a resource to query, submit data to, update, or delete, and one or more HTTP request header.</p> <p>Tip</p> <p>The URL to the API service is either:</p> <ul> <li>Sandbox: <code>https://sandbox.iumi.cash</code></li> <li>Production: <code>https://iumi.cash</code></li> </ul> <p>Optionally, you can include <code>query parameters</code> on <code>GET</code> calls to filter, limit the size of, and sort the data in the responses.</p> <p>Tip</p> <p>Most <code>POST</code>, <code>PUT</code>, and <code>PATCH</code> calls require a JSON request body.</p>"},{"location":"requests/#http-request-headers","title":"HTTP request headers","text":"<code>Authorization</code> string The value is <code>Basic &lt;Access-Token&gt;</code>. See authentication header for more details. <code>Content-Type</code> string The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>. <code>RequestId</code> string Idempotency key for request. See idempotency for more information."},{"location":"responses/","title":"Responses","text":""},{"location":"responses/#api-responses","title":"API responses","text":"<p>iumiCash API calls return HTTP status codes. Some API calls also return JSON response bodies  that include information about the resource including one or more contextual HATEOAS links.  You can use these links to request more information about or some other prebuilt links to work with resources. </p>"},{"location":"responses/#http-status-codes","title":"HTTP status codes","text":""},{"location":"responses/#successful-requests","title":"Successful requests","text":"<p>For successful requests, iumiCash returns <code>HTTP 2xx</code> status codes.</p> HTTP 2xx <p><code>HTTP 2xx</code> status code description</p> Status code Description <code>HTTP 200 OK</code> The request succeeded. <code>HTTP 201 Created</code> A POST method successfully created a resource. <code>HTTP 204 No Content</code> The server successfully executed the method but returned no response body."},{"location":"responses/#failed-requests","title":"Failed requests","text":"<p>For failed requests, iumiCash returns <code>HTTP 4xx</code> status codes if something passed  in the request has an error or <code>HTTP 5xx</code> status codes when something is wrong on our end  with a server or service.</p> <p>For authentication specific <code>HTTP 4xx</code> status codes, see Authorization errors.</p> Response <code>error</code> string <p>Error code.</p> <code>description</code> string <p>Human-readable error description.</p> <code>field_errors</code> list of object <p>List of errors. </p> HTTP 4xx <p><code>HTTP 4xx</code> status code description</p> Status code Description Possible causes and solutions <code>HTTP 400 Bad Request</code> The request is not well-formed, syntactically incorrect, or violates schema. See Validation errors. The server could not understand the request. Can be one of this: <ul><li>The API cannot convert the payload data</li><li>The data is not in the expected data format</li><li>A required field is not available</li><ul> <code>HTTP 404 Not Found</code> A specified resource does not exist The server did not find anything that matches the requested URI. Either the URI is incorrect or the resource is not available. For example, no data exists in the database at that key. <code>HTTP 405 Method Not Allowed</code> The server does not implement the requested HTTP method. The service or resource does not support the requested HTTP method. <code>HTTP 422 Unprocessable Entity</code> The API cannot complete the requested action, or the request action is semantically incorrect or fails business validation. The server could not understand the request schema. HTTP 5xx <p><code>HTTP 5xx</code> status code description</p> Status code Description Possible causes and solutions <code>HTTP 500 Internal Server Error</code> An internal server error has occurred. A system or application error occurred. Although the client appears to provide a correct request, something unexpected occurred on the server. <code>HTTP 503 Service Unavailable</code> Service Unavailable. The server cannot handle the request for a service due to temporary maintenance."},{"location":"responses/#authorization-errors","title":"Authorization errors","text":"<p>iumiCash follows industry standard OAuth 2.0 authorization protocol and returns the  <code>HTTP 400</code>, <code>HTTP 401</code>, <code>HTTP 403</code> status codes for authorization errors. </p> <p>Tip</p> <p>Most of them usually access token-related issues and can be cleared by making sure  that the token is present and hasn't expired.</p> HTTP 4xx <p><code>HTTP 4xx</code> status code description</p> Status code Description Possible causes and solutions <code>HTTP 400 Bad Request</code> For example: <ul><li>Incorrect response_type</li><li>Unsupported grant_type</li><li>Incorrect redirect_uris etc.</li></ul> Check your request body or see possible data in specified resourse. <code>HTTP 401 Unauthorized</code> For example: <ul><li>Authorization header is not present</li><li>Invalid client credentials</li><li>Invalid refresh_token</li><li>Invalid authorization code etc</li></ul> <code>HTTP 403 Forbidden</code> Authorization failed due to insufficient permissions Make sure that you have access to this resource."},{"location":"responses/#validation-errors","title":"Validation errors","text":"<p>For validation errors, iumiCash returns the <code>HTTP 400 Bad Request</code> status code.</p> <p>Tip</p> <p>To prevent validation errors ensure that parameters are the right type and conform to constraints.</p>"},{"location":"responses/#examples","title":"Examples","text":"Response <p>Example error response.</p> <p>Danger</p> <p>Be carefull! For <code>HTTP 5xx</code> status codes, iumiCash can send NOT <code>application/json</code> response type. It may happen when iumiCash servers somehow is down. <code>HTTP 5xx</code> status codes in most cases sent by <code>reverse proxies</code> e.g. nginx, traefik in <code>text/plain</code> response type.</p> <pre><code>{\n    \"error\": \"bad_request\",\n    \"description\": \"Some reasonable error message\",\n    \"field_errors\": [\n        {\n            \"field\": \"field_name\",\n            \"message\": \"field error message\"\n        }\n    ]\n}\n</code></pre>"},{"location":"responses/#objects","title":"Objects","text":""},{"location":"responses/#field-error","title":"field error","text":"Info <code>field</code> string <p>Field where error happens.</p> <code>message</code> string <p>Validation message for this message.</p>"},{"location":"types/","title":"Types","text":""},{"location":"types/#iumicash-identifier","title":"iumiCash identifier","text":"<p>Tip</p> <p>Identifier that used by iumiCash as primary key.  For more information about identifier see MongoDB ID.</p>"},{"location":"types/#cent-integer","title":"Cent integer","text":"<p>Tip</p> <p>The value must be interpreted as cents.</p>"},{"location":"auth/","title":"Authorization","text":"<p>To make requests to REST API you need to provide request headers</p>"},{"location":"auth/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required <p>Separate your Base64-encoded email and password by a colon (:).</p> <p>Format:  <code>Basic {Your Base64-encoded email:password}</code> without curly braces.</p> <p>Example: <code>Basic Zm9vQGJhci5iYXo6d2Vha19wYXNzd29yZA==</code></p>"},{"location":"cash_in/","title":"Cash In - Introduction","text":"<p>This is a method of transferring funds, which allows user to transfer money to his account  using the username through the terminal.</p>"},{"location":"cash_in/cheque_generation/","title":"Cheque generation","text":"<p>The receipt is sending in the <code>cheque_content</code> field in several responses.  This is the json values code that the terminal renders after inserting <code>cheque_content</code> between the constant header and footer.</p> <p>Tip</p> <p>For more information about request see cash in transaction.</p>"},{"location":"cash_in/cheque_generation/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/cash_in/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"username\": \"fshevchenko\",\n  \"amount\": 1000,\n  \"system_transaction_id\": \"123456\",\n  \"terminal_id\": \"190AB\",\n  \"fees\": {\n    \"internal_fee\": 10,\n    \"internal_cashback\": 0\n  }\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 201 Created</code></p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"123456\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"cheque_content\": [\n{\n\"label\": \"Created At\",\n\"value\": \"23 May 2022 at 12:36\",\n\"position\": 1,\n\"section\": \"main\"\n},\n{\n\"label\": \"Description\",\n\"value\": \"Cash In for @fshevchenko account\",\n\"position\": 2,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash Transaction\",\n\"value\": \"390IDFE2\",\n\"position\": 3,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal transaction\",\n\"value\": \"123456\",\n\"position\": 4,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal\",\n\"value\": \"190AB\",\n\"position\": 5,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash fee\",\n\"value\": \"0.10 $SBD\",\n\"position\": 6,\n\"section\": \"total\"\n},\n{\n\"label\": \"Amount\",\n\"value\": \"9.90 $SBD\",\n\"position\": 7,\n\"section\": \"total\"\n},\n{\n\"label\": \"Total\",\n\"value\": \"10.00 $SBD\",\n\"position\": 8,\n\"section\": \"total\"\n}\n]\n}\n</code></pre>"},{"location":"cash_in/cheque_generation/#cheque-example","title":"Cheque example","text":"<p>Created At:</p> <p>23 May 2022 at 12:36</p> <p>Description:</p> <p>Cash In for @fshevchenko account</p> <p>iumiCash Transaction:</p> <p>390IDFE2</p> <p>Terminal Transaction:</p> <p>123456</p> <p>Terminal:</p> <p>190AB</p> <p>iumiCash fee:</p> <p>0.10 $SBD</p> <p>Amount</p> <p>9.90 $SBD</p> <p>Total:</p> <p>10.00 $SBD</p> <p>Please save cheque until paying for service</p> <p>Contact details: +6104123123 @Andrew Taylor</p> <p>Copyright 2022</p>"},{"location":"cash_in/cheque_generation/#cheque-refund","title":"Cheque Refund","text":"<p>If for some reason the iumiCash server has not processed the user's transaction, he can always come up with a receipt and receive a refund on this receipt. A receipt contains the transaction ID, transaction details and amount of the transaction.</p>"},{"location":"cash_in/cheque_generation/#failed-cheque-generating","title":"Failed Cheque Generating","text":"<p>If iumiCash did not respond to the request and as a result did not return the content receipt,  the terminal must print the receipt so that the user can always get the money back in one form  or another or contact the support service.</p>"},{"location":"cash_in/details/","title":"Get Cash in details","text":""},{"location":"cash_in/details/#get-cash_in-details-request-api","title":"Get cash_in details request API","text":"<p>Get cash_in details.</p> <p><code>GET /v1/terminal-api/cash_in/</code></p>"},{"location":"cash_in/details/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"cash_in/details/#response","title":"Response","text":"Response <code>status</code> object Cash_in status <code>fee</code> object Cash_in fee."},{"location":"cash_in/details/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/cash_in/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>{\n\"status\": {\n\"status\": \"Active\",\n\"available\": true,\n\"color\": \"\"\n},\n\"fee\": {\n\"key\": \"internal\",\n\"max_amount\": 1000000,\n\"rules\": [\n{\n\"less_than\": 1000100,\n\"more_than\": 0,\n\"external_fee_in_percents\": 0,\n\"internal_fee_in_percents\": 0,\n\"external_fee_fix\": 0,\n\"internal_fee_fix\": 0,\n\"external_cashback_in_percents\": 0,\n\"internal_cashback_in_percents\": 0,\n\"external_cashback_fix\": 0,\n\"internal_cashback_fix\": 0\n}\n]\n}\n}\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/users/my_username/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 403 Forbidden</code></p> <pre><code>{\n\"error\": \"unauthotized\",\n\"description\": \"Authentication header not provided\",\n\"field_errors\": []\n}\n</code></pre>"},{"location":"cash_in/details/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"cash_in/details/#cash-in-status","title":"Cash in status","text":"Description <code>status</code> string Status name. <code>available</code> boolean Is cash_in available. <code>color</code> string Status color."},{"location":"cash_in/details/#fee","title":"Fee","text":"Description <code>key</code> string Transaction type key <code>max_amount</code> integer Transaction maximum amount <code>rules</code> list of rule This field describes which rule element should be applied to the entered amount. <p>Info</p> To understand which rule to apply, there are fields <code>more_than</code> and <code>less_than</code>. See rule for more details."},{"location":"cash_in/details/#rule","title":"Rule","text":"Description <code>less_than</code> integer The amount need to be less than or equal the value of this field to accept this rule object. <code>more_than</code> integer The amount need to be more than the value of this field to accept this rule object. <code>external_fee_in_percents</code> decimal Commission charged by a third party.   The commission value is calculated as a percentage of the transaction amount. <code>internal_fee_in_percents</code> decimal Commission charged by iumiCash.   The commission value is calculated as a percentage of the transaction amount.    <code>external_fee_fix</code> integer Commission charged by a third party.  The commission is charged as a fixed value regardless of the transaction amount. <code>internal_fee_fix</code> integer Commission charged by iumiCash.  The commission is charged as a fixed value regardless of the transaction amount. <code>external_cashback_in_percents</code> decimal Cashback returned by a third party. The cashback value is calculated as a percentage of the transaction amount. This value is negative decimal by default, if exists and not equal 0.  <code>internal_cashback_in_percents</code> decimal Cashback returned by iumiCash. The cashback value is calculated as a percentage of the transaction amount. This value is negative decimal by default, if exists and not equal 0.  <code>external_cashback_fix</code> integer Cashback returned by a third party. The cashback is charged as a fixed value regardless of the transaction amount. <ul> <li>This value is negative decimal by default, if exists and not equal 0. </li> </ul> <code>internal_cashback_fix</code> integer Cashback returned by iumiCash. The cashback is charged as a fixed value regardless of the transaction amount. <ul> <li>This value is negative decimal by default, if exists and not equal 0. </li> </ul>"},{"location":"cash_in/flow/","title":"Flow diagram","text":"<pre><code>flowchart TD\n    start([Start]) --&gt; cash_in_details_request&gt;\"Get cash_in details request\"];\n    cash_in_details_request --&gt; |HTTP 4xx-5xx| cash_in_error([\"HTTP 4xx: Cash in not available\"]) --&gt; start;\n    cash_in_details_request ----&gt; |HTTP 200 OK| input_username[\\\"Input username\"/];\n\n    subgraph username_validation [\"Username validation\"];\n        input_username --&gt; check_username_request&gt;\"Check username request\"];\n        check_username_request --&gt; |HTTP 4xx-5xx| error_page([\"HTTP 4xx: Not Exist\"]);\n        error_page --&gt; input_username;\n        check_username_request ----&gt; |HTTP 200 OK| show_username_info[\"Show username info\"];\n    end;\n\n    show_username_info -- \"Click Approve button\" ----&gt; insert_money[\\\"Insert money\"/];\n\n    subgraph money_inserting [\"Inserting money\"];\n        insert_money --&gt; show_inserted_money_amount[\"Show inserted money amount\"];\n        show_inserted_money_amount --&gt; insert_money;\n    end;\n\n    show_inserted_money_amount -- \"Click Next button\" ---&gt; deposit_request&gt;\"Make deposit request\"];\n    deposit_request --&gt; |\"HTTP 201 Created\"| successful_deposit_request[\"Received transaction details\"];\n    deposit_request --&gt; |\"HTTP 4xx-5xx\"| error_deposit_request[\"Transaction in progress\"];\n    successful_deposit_request --&gt; print_cheque[[\"Print cheque\"]];\n    error_deposit_request --&gt; print_cheque[[\"Print cheque\"]];\n\n    click start href \"#start\";\n    click cash_in_details_request href \"#cash_in_details_request\";\n    click cash_in_error href \"#error_page\";\n    click input_username href \"#input_username\";\n    click check_username_request href \"#check_username_request\";\n    click show_username_info href \"#show_username_info\";\n    click error_page href \"#error_page\";\n    click insert_money href \"#insert_money\";\n    click show_inserted_money_amount href \"#show_inserted_money_amount\";\n    click deposit_request href \"#deposit_request\";\n    click successful_deposit_request href \"#successful_deposit_request\";\n    click error_deposit_request href \"#error_deposit_request\";\n    click print_cheque href \"#print_cheque\";</code></pre>"},{"location":"cash_in/flow/#block-descriptions","title":"Block descriptions","text":""},{"location":"cash_in/flow/#start","title":"start","text":"<p>The initial screen with the ability to enter username and click on the \"Next\" button</p>"},{"location":"cash_in/flow/#cash_in_details_request","title":"cash_in_details_request","text":"<p>The terminal system sends a request to the iumiCash server at <code>GET /v1/terminal-api/cash_in/</code>.</p> <p>See This link for more information about this request.</p>"},{"location":"cash_in/flow/#input_username","title":"input_username","text":"<p>The user enters username and clicks on the \"Next\" button</p>"},{"location":"cash_in/flow/#check_username_request","title":"check_username_request","text":"<p>The terminal system sends a request to the iumiCash server at <code>GET /v1/terminal-api/users/&lt;username:str&gt;/</code>.</p> <p>See This link for more information about this request.</p>"},{"location":"cash_in/flow/#show_username_info","title":"show_username_info","text":"<p>If Response from <code>GET /v1/terminal-api/users/&lt;username:str&gt;/</code> returned <code>200 OK</code>, terminal displays username details, such as <code>first_name</code> and <code>last_name</code>. The terminal waits for one minute until the user clicks the \"Next\" button.</p>"},{"location":"cash_in/flow/#error_page","title":"error_page","text":"<p>This page displays any possible error. For example, if a response does not have <code>2xx Status code</code>.</p> <p>If Response from <code>GET /v1/terminal-api/users/&lt;username:str&gt;/</code> returned <code>4xx Status Code</code>, terminal displays error details. (<code>User Not Found</code>, <code>User is deactivated</code>, etc.) and returns user to the start page after 10 seconds.</p>"},{"location":"cash_in/flow/#insert_money","title":"insert_money","text":"<p>The terminal waits for the user to enter money.</p>"},{"location":"cash_in/flow/#show_inserted_money_amount","title":"show_inserted_money_amount","text":"<p>The terminal shows inserted money amount.</p>"},{"location":"cash_in/flow/#deposit_request","title":"deposit_request","text":"<p>The client is shown the final information about the inserted data, total sum and commission. Loading is also output to get the status and details of the transaction. In parallel, the terminal system sends a CashIn request to the iumiCash backend.</p> <p>See cash in transaction for request details.</p>"},{"location":"cash_in/flow/#successful_deposit_request","title":"successful_deposit_request","text":"<p>If transaction received, terminal displays transaction details.</p>"},{"location":"cash_in/flow/#error_deposit_request","title":"error_deposit_request","text":"<p>If transaction failed, terminal displays error details.</p>"},{"location":"cash_in/flow/#print_cheque","title":"print_cheque","text":"<p>Prints cheque using <code>cheque_content</code> from successful deposit request.</p> <p>For more details, see Cheque generation</p>"},{"location":"daily/","title":"Daily requests - Introduction","text":"<p>In this section, requests will be submitted that provide up-to-date information  about payment lists, commission write-off policy, constants for  checks (such as company logos, technical support contact details), etc.</p> <p>Tip</p> <p>Preferably to send the requests described in the <code>Daily</code> section every day  to keep the up-to-date information. </p> <p>Requests best time</p> <p>It is best to send these requests at a low-load time of the system.  This time is <code>from 2:00AM to 5:00AM GMT+11</code>.</p>"},{"location":"daily/constants/","title":"Constants","text":""},{"location":"daily/constants/#constants-api","title":"Constants API","text":"<p>Get constants request.</p> <p><code>GET /v1/terminal-api/constants/</code></p>"},{"location":"daily/constants/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"daily/constants/#response","title":"Response","text":"Response <code>logo</code> URL string <p>iumiCash logo .png url</p> <code>cheque_footer</code> string <p>Text for cheque footer which is printed by terminal</p>"},{"location":"daily/faq/","title":"FAQ request","text":""},{"location":"daily/faq/#faq-request-api","title":"FAQ request API","text":"<p>Frequently Asked Questions request.</p> <p><code>GET /v1/terminal-api/faq/</code></p>"},{"location":"daily/faq/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"daily/faq/#response","title":"Response","text":"Response <p>list of faq</p>"},{"location":"daily/faq/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/faq/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>[\n{\n\"question\": \"How to send requests?\",\n\"answer\": \"To send requests you can use any programming language.\",\n\"category\": {\n\"name\": \"technical\",\n\"label\": \"Technical questions\"\n}\n},\n{\n\"question\": \"How to use daily requests?\",\n\"answer\": \"You can use daily requests same as usual requests.\",\n\"category\": {\n\"name\": \"technical\",\n\"label\": \"Technical questions\"\n}\n}\n]\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/faq/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"daily/faq/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"daily/faq/#faq","title":"FAQ","text":"Description <code>question</code> string Question. <code>answer</code> string Answer. <code>category</code> object Question category."},{"location":"daily/faq/#category","title":"Category","text":"Description <code>name</code> string Name. <code>label</code> string Label."},{"location":"daily/payments/","title":"Daily payments","text":"<p>You need to retrieve all payment services and payment categories and save them for later usage. </p> <p>Tip</p> <p>See payment service and payment category  for more information about requests.</p>"},{"location":"daily/reports/","title":"Daily reports","text":"<p>It is advisable to conduct a <code>reports</code> daily requests every 24 hours  in order to find inconsistencies as quickly as possible and be able to respond to them promptly.</p>"},{"location":"fees/","title":"Fees - Introduction","text":"<p>This section will describe the main interactions with commissions for different types of services.</p> <p>To get a list of commissions for all types of services, you need send request:</p>"},{"location":"fees/#fees","title":"Fees","text":"<p><code>GET /v1/terminal-api/fees/</code></p>"},{"location":"fees/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"fees/#response","title":"Response","text":"Response list of fees Array of all service fees."},{"location":"fees/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/fees/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>[\n{\n\"key\": \"solomon_power\",\n\"max_amount\": 100000,\n\"rules\": [\n{\n\"less_than\": 10100,\n\"more_than\": 0,\n\"external_fee_in_percents\": 0,\n\"internal_fee_in_percents\": 0,\n\"external_fee_fix\": 125,\n\"internal_fee_fix\": 175,\n\"external_cashback_in_percents\": 0,\n\"internal_cashback_in_percents\": 0,\n\"external_cashback_fix\": 0,\n\"internal_cashback_fix\": 0\n},\n{\n\"less_than\": 1000000,\n\"more_than\": 10100,\n\"external_fee_in_percents\": 0,\n\"internal_fee_in_percents\": 0,\n\"external_fee_fix\": 125,\n\"internal_fee_fix\": 175,\n\"external_cashback_in_percents\": 0,\n\"internal_cashback_in_percents\": 0,\n\"external_cashback_fix\": 0,\n\"internal_cashback_fix\": 0\n}\n]\n}\n]\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/fees/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 403 Forbidden</code></p> <pre><code>{\n\"error\": \"unauthotized\",\n\"description\": \"Authentication header not provided\",\n\"field_errors\": []\n}\n</code></pre>"},{"location":"fees/fees/","title":"Fees","text":"<p>This section will describe the fee calculation policy for different types of services.  The fee structure is always the same, only the values differ. </p> <p>The commission calculation is necessary in order to transfer the amount,  taking into account the deduction of all commissions, cashback, etc. from the amount entered by the user into the terminal.</p>"},{"location":"fees/fees/#response","title":"Response","text":"Fee object <code>key</code> string unique Transaction type key <code>rules</code> list of rule <p>This field describes which rule element should be applied to the entered amount. Fields of rules element:</p> <ul> <li><code>less_than</code></li> <li><code>more_than</code></li> <li><code>external_fee_in_percents</code></li> <li><code>internal_fee_in_percents</code></li> <li><code>external_fee_fix</code></li> <li><code>internal_fee_fix</code></li> <li><code>external_cashback_in_percents</code></li> <li><code>internal_cashback_in_percents</code></li> <li><code>external_cashback_fix</code></li> <li><code>internal_cashback_fix</code></li> </ul> <p>Info</p> <p>To understand which rule to apply, there are fields <code>more_than</code> and <code>less_than</code>. See rule for more details.</p>"},{"location":"fees/fees/#rule","title":"Rule","text":"Rule object <code>less_than</code> integer The amount need to be less than or equal the value of this field to accept this rule object. <code>more_than</code> integer The amount need to be more than the value of this field to accept this rule object. <code>external_fee_in_percents</code> decimal Commission charged by a third party.   The commission value is calculated as a percentage of the transaction amount. <code>internal_fee_in_percents</code> decimal Commission charged by iumiCash.   The commission value is calculated as a percentage of the transaction amount.    <code>external_fee_fix</code> integer Commission charged by a third party.  The commission is charged as a fixed value regardless of the transaction amount. <code>internal_fee_fix</code> integer Commission charged by iumiCash.  The commission is charged as a fixed value regardless of the transaction amount. <code>external_cashback_in_percents</code> decimal Cashback returned by a third party. The cashback value is calculated as a percentage of the transaction amount. This value is negative decimal by default, if exists and not equal 0.  <code>internal_cashback_in_percents</code> decimal Cashback returned by iumiCash. The cashback value is calculated as a percentage of the transaction amount. This value is negative decimal by default, if exists and not equal 0.  <code>external_cashback_fix</code> integer Cashback returned by a third party. The cashback is charged as a fixed value regardless of the transaction amount. <ul> <li>This value is negative decimal by default, if exists and not equal 0. </li> </ul> <code>internal_cashback_fix</code> integer Cashback returned by iumiCash. The cashback is charged as a fixed value regardless of the transaction amount. <ul> <li>This value is negative decimal by default, if exists and not equal 0. </li> </ul>"},{"location":"fees/fees/#policies","title":"Policies","text":"<p>Policies page is describing how to communicate with these rule parameters.</p>"},{"location":"fees/policies/","title":"Fee policies","text":"<p>Rule condition</p> <p>You need to use the rule, where user \\(amount\\) is statisfied the next condition:</p> <p>\\(more\\_than\\) \\(\\leqslant\\) \\(amount\\) \\(&lt;\\) \\(less\\_than\\)</p> <p>The final formula to calculate total sum of a transaction:</p> <p>Abbreviations</p> <ul> <li>TS = total_sum</li> <li>EFF = external_fee_fix</li> <li>IFF = internal_fee_fix</li> <li>ECF = external_cashback_fix</li> <li>ICF = internal_cashback_fix</li> <li>EFP = external_fee_in_percents</li> <li>IFP = internal_fee_in_percents</li> <li>ECP = external_cashback_percents</li> <li>ICP = internal_cashback_percents</li> </ul>"},{"location":"fees/policies/#total-sum-formula","title":"Total sum formula","text":"<p>Direct formula for calculating the total sum</p> \\[ \\begin{aligned} TS &amp; = amount + (EFF\\ ||\\ 0)  + (IFF\\ ||\\ 0) + (ECF\\ ||\\ 0) + (ICF\\ ||\\ 0) \\\\ &amp; + (amount*(EFP\\ ||\\ 0)/100)\\ + (amount*(IFP\\ ||\\ 0)/100) \\\\ &amp; + (amount*(ECP\\ ||\\ 0)/100)\\ + (amount*(ICP\\ ||\\ 0)/100) \\end{aligned} \\] <p>Danger</p> <p>Final amount of money that user will receive to terminal differs from actual input amount. That's why the main purpose is calculating the amount which need to be topped up.</p>"},{"location":"fees/policies/#amount-formula","title":"Amount formula","text":"<p>The inverse formula for calculating the amount</p> \\[ \\begin{aligned} amount = \\frac{TS - (EFF\\ ||\\ 0) - (IFF\\ ||\\ 0) - (ECF\\ ||\\ 0) - (ICF\\ ||\\ 0)} {1 + (EFP\\ ||\\ 0)/100 + (IFP\\ ||\\ 0)/100 + (ECP\\ ||\\ 0)/100 + (ICP\\ ||\\ 0)/100} \\end{aligned} \\]"},{"location":"payments/","title":"Payments - Introduction","text":""},{"location":"payments/categories/","title":"Payment categories","text":""},{"location":"payments/categories/#payment-categories-api","title":"Payment categories API","text":"<p>Get payment categories request.</p> <p><code>GET /v1/terminal-api/payments/categories/</code></p>"},{"location":"payments/categories/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"payments/categories/#response","title":"Response","text":"Response <p>list of payment category</p>"},{"location":"payments/categories/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/categories/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>[\n{\n\"id\": \"7552c1f3-dbd2-489c-b998-ec23d0ccc0c7\",\n\"name\": \"Internet\",\n\"icon\": \"wifi/Feather\",\n\"order\": 1\n}\n]\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/categories/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"payments/categories/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"payments/categories/#payment-category","title":"Payment category","text":"Description <code>id</code> ID unique Payment category's unique identifier. <code>name</code> string Category name. <code>icon</code> string Category icon. <code>order</code> integer Posiiton of category."},{"location":"payments/check_credentials/","title":"Check credentials request","text":""},{"location":"payments/check_credentials/#check-credentials-request-api","title":"Check credentials request API","text":"<p>Check credentials request.</p> <p><code>POST /v1/terminal-api/payments/check_credentials</code></p>"},{"location":"payments/check_credentials/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"payments/check_credentials/#request","title":"Request","text":"Request body <code>key</code> string required Payment type identifier. <code>credentials</code> object Payment credentials. Credential data various depending on <code>key</code>."},{"location":"payments/check_credentials/#response","title":"Response","text":"Response <code>details</code> string Details about requested credentials. Terminal can display this value for additional credentials check."},{"location":"payments/check_credentials/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/payments/check-credentials/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"8509813\"\n  }\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>{\n\"details\": \"John Doe\"\n}\n</code></pre> Invalid credentials RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/payments/check-credentials/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"00000\"\n  }\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 404 Not Found</code></p> <pre><code>{\n\"error\": \"not_found\",\n\"description\": \"Bmobile credentials not found\",\n\"field_errors\": []\n}\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/payments/check-credentials/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"8509813\"\n  }\n}\n'\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"payments/cheque_generation/","title":"Cheque generation","text":"<p>The receipt is sending in the <code>cheque_content</code> field in several responses. This is the json values code that the terminal renders after inserting <code>cheque_content</code> between the constant header and footer.</p> <p>Tip</p> <p>For more information about request see payment transaction.</p>"},{"location":"payments/cheque_generation/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/payments \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"8509813\"\n  },\n  \"amount\": 1000,\n  \"system_transaction_id\": \"123456\",\n  \"terminal_id\": \"190AB\"\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 201 Created</code></p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"123456\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"cheque_content\": [\n{\n\"label\": \"Created At\",\n\"value\": \"23 May 2022 at 12:36\",\n\"position\": 1,\n\"section\": \"main\"\n},\n{\n\"label\": \"Description\",\n\"value\": \"8509813 recharged with SBD $10 (Transaction ID: 0927165328159047)\",\n\"position\": 2,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash Transaction\",\n\"value\": \"390IDFE2\",\n\"position\": 3,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal transaction\",\n\"value\": \"123456\",\n\"position\": 4,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal\",\n\"value\": \"190AB\",\n\"position\": 5,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash fee\",\n\"value\": \"0.40 $SBD\",\n\"position\": 6,\n\"section\": \"total\"\n},\n{\n\"label\": \"Bmobile fee\",\n\"value\": \"0.30 $SBD\",\n\"position\": 7,\n\"section\": \"total\"\n},\n{\n\"label\": \"iumiCash cashback\",\n\"value\": \"0.20 $SBD\",\n\"position\": 8,\n\"section\": \"total\"\n},\n{\n\"label\": \"Bmobile cashback\",\n\"value\": \"0.10 $SBD\",\n\"position\": 9,\n\"section\": \"total\"\n},\n{\n\"label\": \"Amount\",\n\"value\": \"9.60 $SBD\",\n\"position\": 10,\n\"section\": \"total\"\n},\n{\n\"label\": \"Total\",\n\"value\": \"10.00 $SBD\",\n\"position\": 11,\n\"section\": \"total\"\n}\n]\n</code></pre>"},{"location":"payments/cheque_generation/#cheque-example","title":"Cheque example","text":"<p>Created At:</p> <p>23 May 2022 at 12:36</p> <p>Description:</p> <p>Cash In for @fshevchenko account</p> <p>iumiCash Transaction:</p> <p>390IDFE2</p> <p>Terminal Transaction:</p> <p>123456</p> <p>Terminal:</p> <p>190AB</p> <p>iumiCash fee:</p> <p>0.40 $SBD</p> <p>Bmobile fee:</p> <p>0.30 $SBD</p> <p>iumiCash cashback:</p> <p>0.20 $SBD</p> <p>Bmobile cashback:</p> <p>0.10 $SBD</p> <p>Amount</p> <p>9.60 $SBD</p> <p>Total:</p> <p>10.00 $SBD</p> <p>Please save cheque until paying for service</p> <p>Contact details: +6104123123 @Andrew Taylor</p> <p>Copyright 2022</p>"},{"location":"payments/cheque_generation/#cheque-refund","title":"Cheque Refund","text":"<p>If for some reason the iumiCash server has not processed the user's transaction, he can always come up with a receipt and receive a refund on this receipt. A receipt contains the transaction ID, transaction details and amount of the transaction.</p>"},{"location":"payments/cheque_generation/#failed-cheque-generating","title":"Failed Cheque Generating","text":"<p>If iumiCash did not respond to the request and as a result did not return the content receipt,  the terminal must print the receipt so that the user can always get the money back in one form  or another or contact the support service.</p>"},{"location":"payments/flow/","title":"Flow diagram","text":"<pre><code>flowchart TD\n    start([Start]) --&gt; show_categories[\"Show menu of categories\"];\n    show_categories --&gt; choose_category[\\\"Choose category\"/];\n    choose_category -- \"Click Next button\" --&gt; show_grouped_payments[\"Show menu of grouped payments\"];\n    show_grouped_payments --&gt; choose_payment[\\\"Choose payment\"/];\n    choose_payment -- \"Click Next button\" --&gt; payment_schema_request&gt;\"Request chosen payment schema\"];\n    payment_schema_request -- \"HTTP 200 OK\" --&gt; show_payment_screen[\"Show payment screen\"];\n    payment_schema_request -- \"HTTP 4xx-5xx\" --&gt; error_page([\"HTTP 4xx error page\"]);\n    error_page -- \"After 10 sec redirect to\" --&gt; start;\n    show_payment_screen -- \"Click Next button\" ----&gt; input_user_credentials[\\\"Input user credentials\"/];\n\n    subgraph credential_validations [\"Credential validation\"];\n        input_user_credentials --&gt; check_credentials_request&gt;\"Check credentials request\"];\n        check_credentials_request -- \"HTTP 4xx-5xx\" --&gt; error_invalid_credentials([\"HTTP 4xx: Invalid credentials\"]);\n        error_invalid_credentials --&gt; input_user_credentials;\n    end;\n\n    check_credentials_request -- \"HTTP 200 OK\" -----&gt; insert_money[\\\"Insert money\"/];\n\n    subgraph money_inserting [\"Inserting money\"];\n        insert_money --&gt; calculate_amount_and_fees[\"Show calculated amount (money, fees)\"];\n        calculate_amount_and_fees --&gt; insert_money;\n    end;\n\n    calculate_amount_and_fees -- \"Click Next button\" ---&gt; send_payment_request&gt;\"Send payment request\"];\n    send_payment_request --&gt; |HTTP 201 Created| successful_send_payment_request[\"Transaction details\"];\n    send_payment_request --&gt; |HTTP 4xx-5xx| error_send_payment_request[\"Payment in progress\"];\n    successful_send_payment_request --&gt; print_cheque[[\"Print cheque\"]];\n    error_send_payment_request --&gt; print_cheque[[\"Print cheque\"]];\n\n    click start href \"#start\";\n    click show_categories href \"#show_categories\";\n    click choose_category href \"#choose_category\";\n    click show_grouped_payments href \"#show_grouped_payments\";\n    click choose_payment href \"#choose_payment\";\n    click payment_schema_request href \"#payment_schema_request\";\n    click show_payment_screen href \"#show_payment_screen\";\n    click input_user_credentials href \"#input_user_credentials\";\n    click check_credentials_request href \"#check_credentials_request\";\n    click error_invalid_credentials href \"#error_page\";\n    click insert_money href \"#insert_money\";\n    click calculate_amount_and_fees href \"#calculate_amount_and_fees\";\n    click send_payment_request href \"#send_payment_request\";\n    click successful_send_payment_request href \"#successful_send_payment_request\";\n    click error_send_payment_request href \"#error_send_payment_request\";\n    click print_cheque href \"#print_cheque\";\n    click error_page href \"#error_page\";</code></pre>"},{"location":"payments/flow/#block-descriptions","title":"Block descriptions","text":""},{"location":"payments/flow/#start","title":"start","text":"<p>The initial screen with all payment categories.</p>"},{"location":"payments/flow/#show_categories","title":"show_categories","text":"<p>Each category is clickable and contains specific payments.</p>"},{"location":"payments/flow/#choose_category","title":"choose_category","text":"<p>The user clicked on the category.</p>"},{"location":"payments/flow/#show_grouped_payments","title":"show_grouped_payments","text":"<p>This screen displays only payments related to the selected category.</p>"},{"location":"payments/flow/#choose_payment","title":"choose_payment","text":"<p>The user clicked on the payment.</p>"},{"location":"payments/flow/#payment_schema_request","title":"payment_schema_request","text":"<p>The terminal system sends a request to the iumiCash server at <code>GET /v1/terminal-api/payments/schemas/&lt;key&gt;/</code>.</p> <p>See This link for more information about this request.</p>"},{"location":"payments/flow/#error_page","title":"error_page","text":"<p>This page displays any possible error. For example, if a response does not have <code>2xx Status code</code>.</p>"},{"location":"payments/flow/#show_payment_screen","title":"show_payment_screen","text":"<p>Terminal renders payment screen based on the provided payment schema.</p>"},{"location":"payments/flow/#input_user_credentials","title":"input_user_credentials","text":"<p>User inputs payment credentials, such as <code>phone</code> if payment is Bmobile/Our Telekom, <code>login</code> if payment is Satsol etc.</p>"},{"location":"payments/flow/#check_credentials_request","title":"check_credentials_request","text":"<p>The terminal system sends a request to the iumiCash server at <code>POST /v1/terminal-api/payments/check-credentials</code>.</p> <p>See This link for more information about this request.</p>"},{"location":"payments/flow/#insert_money","title":"insert_money","text":"<p>Terminal is waiting for inserting user money. Trigger to stop waiting is press \"Next\" button.</p>"},{"location":"payments/flow/#calculate_amount_and_fees","title":"calculate_amount_and_fees","text":"<p>Since the terminal system knows the policy of calculating all payment fees (Fees policies),  the terminal can display a list of fees every time a banknote is entered.</p>"},{"location":"payments/flow/#send_payment_request","title":"send_payment_request","text":"<p>The terminal system sends a request to the iumiCash server at <code>POST /v1/terminal-api/transactions/payments/</code>.</p> <p>See This link for more information about this request.</p>"},{"location":"payments/flow/#successful_send_payment_request","title":"successful_send_payment_request","text":"<p>If iumiCash responded with <code>201 Created</code> request and the transaction status is <code>Success</code> (See All Transaction Statuses),  then the terminal shows the details of the successfully  completed transaction and proceeds to print the receipt</p>"},{"location":"payments/flow/#error_send_payment_request","title":"error_send_payment_request","text":"<p>If for some reason the iumiCash server did not respond or returned the status not <code>Success</code>,  the terminal must show the details of the transaction and print a receipt,  according to which the user will be able to refund the money for the unsuccessful transaction  (More about this: Cheque refund). At this time, the terminal system should send a request to the  iumiCash server until it is convinced of the finiteness of the transaction.</p> <p>Note</p> <p>Please, pay attention to idempotency, while terminal system is sending the request.</p>"},{"location":"payments/flow/#print_cheque","title":"print_cheque","text":"<p>Prints cheque using <code>cheque_content</code> from successful_send_payment_request.</p> <p>For more details, see Cheque generation</p>"},{"location":"payments/get/","title":"Get payment service","text":""},{"location":"payments/get/#get-payment-service-request-api","title":"Get payment service request API","text":"<p>Payment service.</p> <p><code>GET /v1/terminal-api/payments/services/&lt;key:string&gt;/</code></p>"},{"location":"payments/get/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"payments/get/#path-parameters","title":"Path parameters","text":"Path parameters <code>key</code> string Payment's <code>key</code> identifier."},{"location":"payments/get/#response","title":"Response","text":"Response <code>key</code> string unique Payment's unique identifier. <code>category_id</code> ID Payment's category identifier. <code>category</code> string Payment's category name. <code>description</code> string Description of payment. <code>status</code> object Payment's status. <code>image_url</code> URL string Payment's image url. <code>min_transaction_payment</code> integer Min transaction payment amount. <code>schema</code> object Payment schema. <code>fee</code> object Related fees."},{"location":"payments/get/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/services/bmobile/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>{\n\"key\": \"bmobile\",\n\"description\": \"Bmobile service\",\n\"category_id\": \"8c51cb48-624d-4706-ba6a-2608f389d6a2\",\n\"category\": \"Mobile\",\n\"status\": {\n\"status\": \"Active\",\n\"available\": true,\n\"color\": \"#ff0000\"\n},\n\"image_url\": \"https://example.com/image.jpg\",\n\"schema\": {\n\"phone\": {\n\"label\": \"Phone number\",\n\"placeholder\": \"\",\n\"defaultValue\": null,\n\"type\": \"phone\",\n\"keyboardType\": \"number-pad\",\n\"includedCountries\": [\n\"SB\"\n],\n\"validators\": {\n\"required\": true\n},\n\"credentials\": true,\n\"order\": 0\n},\n\"amount\": {\n\"label\": \"Top Up Amount (SBD)\",\n\"placeholder\": \"\",\n\"defaultValue\": 0,\n\"type\": \"amount\",\n\"keyboardType\": \"numeric\",\n\"includedCountries\": null,\n\"validators\": {\n\"required\": true,\n\"less_than\": 1000,\n\"more_than\": 1\n},\n\"order\": 1\n},\n\"description\": {\n\"label\": \"Description\",\n\"placeholder\": \"Bmobile Top Up\",\n\"defaultValue\": \"Bmobile Top Up\",\n\"type\": \"input\",\n\"keyboardType\": \"default\",\n\"includedCountries\": null,\n\"validators\": {\n\"required\": false\n},\n\"order\": 2\n}\n},\n\"fee\": {\n\"rules\": [\n{\n\"less_than\": 10100,\n\"more_than\": 0,\n\"external_fee_in_percents\": 0,\n\"internal_fee_in_percents\": 0,\n\"external_fee_fix\": 125,\n\"internal_fee_fix\": 175,\n\"external_cashback_in_percents\": 0,\n\"internal_cashback_in_percents\": 0,\n\"external_cashback_fix\": 0,\n\"internal_cashback_fix\": 0\n},\n{\n\"less_than\": 1000000,\n\"more_than\": 10100,\n\"external_fee_in_percents\": 0,\n\"internal_fee_in_percents\": 0,\n\"external_fee_fix\": 125,\n\"internal_fee_fix\": 175,\n\"external_cashback_in_percents\": 0,\n\"internal_cashback_in_percents\": 0,\n\"external_cashback_fix\": 0,\n\"internal_cashback_fix\": 0\n}\n]\n}\n}\n</code></pre> Payment service does not exist RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/services/not_exist/\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 404 Not Found</code></p> <pre><code>{\n\"error\": \"not_found\",\n\"description\": \"Payment service 'not_exist' not found\",\n\"field_errors\": []\n}\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/services/bmobile/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"payments/get/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"payments/get/#fee","title":"Fee","text":"Description <code>rules</code> list of rule This field describes which rule element should be applied to the entered amount. <p>Info</p> To understand which rule to apply, there are fields <code>more_than</code> and <code>less_than</code>. See rule for more details."},{"location":"payments/get/#rule","title":"Rule","text":"Description <code>less_than</code> integer The amount need to be less than or equal the value of this field to accept this rule object. <code>more_than</code> integer The amount need to be more than the value of this field to accept this rule object. <code>external_fee_in_percents</code> decimal Commission charged by a third party.   The commission value is calculated as a percentage of the transaction amount. <code>internal_fee_in_percents</code> decimal Commission charged by iumiCash.   The commission value is calculated as a percentage of the transaction amount.    <code>external_fee_fix</code> integer Commission charged by a third party.  The commission is charged as a fixed value regardless of the transaction amount. <code>internal_fee_fix</code> integer Commission charged by iumiCash.  The commission is charged as a fixed value regardless of the transaction amount. <code>external_cashback_in_percents</code> decimal Cashback returned by a third party. The cashback value is calculated as a percentage of the transaction amount. This value is negative decimal by default, if exists and not equal 0.  <code>internal_cashback_in_percents</code> decimal Cashback returned by iumiCash. The cashback value is calculated as a percentage of the transaction amount. This value is negative decimal by default, if exists and not equal 0.  <code>external_cashback_fix</code> integer Cashback returned by a third party. The cashback is charged as a fixed value regardless of the transaction amount. <ul> <li>This value is negative decimal by default, if exists and not equal 0. </li> </ul> <code>internal_cashback_fix</code> integer Cashback returned by iumiCash. The cashback is charged as a fixed value regardless of the transaction amount. <ul> <li>This value is negative decimal by default, if exists and not equal 0. </li> </ul>"},{"location":"payments/get/#payment-status","title":"Payment status","text":"Description <code>status</code> string Payment service status. <code>available</code> boolean Is payment service available for transactions. <code>color</code> string Status color."},{"location":"payments/get/#schema","title":"Schema","text":"<p>Note</p> <p>Schema object may have several dynamic fields, where each of them has next structure.</p> Description <code>&lt;field_name&gt;</code> object Specific field's schema."},{"location":"payments/get/#field-schema","title":"Field schema","text":"Description <code>label</code> string Displaying label of this field <code>placeholder</code> string Placeholder of the field. <code>defaultValue</code> string The value, which inserted to the field by default <code>type</code> enum <p>Input type. Can be one of follows:</p> <ul> <li><code>phone</code></li> <li><code>amount</code></li> <li><code>input</code></li> <li><code>select</code></li> </ul> <code>keyboardType</code> enum <p>Keyboard type. Can be one of follows:</p> <ul> <li><code>number-pad</code> - Only numbers</li> <li><code>numeric</code> - Integer field</li> <li><code>default</code> - Plain text</li> </ul> <p>Info</p> <p>Not acceptable for <code>type=select</code></p> <code>validators</code> object Validation field instruction. Has dynamic field structure. <code>credentials</code> boolean Boolean field which indicate this field as credential field. <code>order</code> integer Position of the field on rendering structure."},{"location":"payments/get/#validators","title":"Validators","text":"<p>Validator object has dynamic field structure.</p> Description <code>less_than</code> integer Input value must be less than this value. <code>more_than</code> integer Input value must be more than this value. <code>required</code> boolean Input value is required. <code>options</code> list of options Used together when <code>type=select</code>. <code>included_countries</code> list of country code Used together when <code>type=phone</code>. Array of included country codes."},{"location":"payments/get/#options","title":"Options","text":"<p>Available options for select field.</p>"},{"location":"payments/get/#country-code","title":"Country code","text":"<p>Country code as 2-letter abbreviation. For example, <code>SB</code>.</p>"},{"location":"payments/get/#credentials","title":"Credentials","text":"<p>In payment schema several fields might have <code>credentials</code> boolean flag  which indicates this field as <code>credentials field</code>.</p> <p>This table shows payment service and their <code>credential</code> fields.</p> Payment service Credential fields <code>Bmobile</code> <code>phone</code> <code>SATSOL</code> <code>login</code> <code>Solomon Water</code> <code>meter</code>"},{"location":"payments/get/#how-to-identify-credential-field","title":"How to identify credential field","text":"<p>For example, for payment service <code>bmobile</code> credentials will be <code>phone</code>.</p> <pre><code>{\n\"key\": \"bmobile\",\n\"description\": \"Bmobile service\",\n\"category_id\": \"8c51cb48-624d-4706-ba6a-2608f389d6a2\",\n\"category\": \"Mobile\",\n\"image_url\": \"https://example.com/image.jpg\",\n\"schema\": {\n\"phone\": {\n\"label\": \"Phone number\",\n\"placeholder\": \"\",\n\"defaultValue\": null,\n\"type\": \"phone\",\n\"keyboardType\": \"number-pad\",\n\"includedCountries\": [\n\"SB\"\n],\n\"validators\": {\n\"required\": true\n},\n\"credentials\": true,\n\"order\": 0\n},\n\"amount\": {\n\"label\": \"Top Up Amount (SBD)\",\n\"placeholder\": \"\",\n\"defaultValue\": 0,\n\"type\": \"amount\",\n\"keyboardType\": \"numeric\",\n\"includedCountries\": null,\n\"validators\": {\n\"required\": true,\n\"less_than\": 1000,\n\"more_than\": 1\n},\n\"order\": 1\n},\n\"description\": {\n\"label\": \"Description\",\n\"placeholder\": \"Bmobile Top Up\",\n\"defaultValue\": \"Bmobile Top Up\",\n\"type\": \"input\",\n\"keyboardType\": \"default\",\n\"includedCountries\": null,\n\"validators\": {\n\"required\": false\n},\n\"order\": 2\n}\n}\n}\n</code></pre>"},{"location":"payments/payments/","title":"Available payment services","text":""},{"location":"payments/payments/#available-payments-services-api","title":"Available payments services API","text":"<p>Get available payments services request.</p> <p><code>GET /v1/terminal-api/payments/services/</code></p>"},{"location":"payments/payments/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"payments/payments/#response","title":"Response","text":"Response <p>list of payment</p>"},{"location":"payments/payments/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/services/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>[\n{\n\"key\": \"bmobile\",\n\"description\": \"Bmobile service\",\n\"category_id\": \"8c51cb48-624d-4706-ba6a-2608f389d6a2\",\n\"category\": \"Mobile\",\n\"status\": {\n\"status\": \"Active\",\n\"available\": true,\n\"color\": \"#ff0000\"\n},\n\"image_url\": \"https://example.com/image.jpg\"\n},\n{\n\"key\": \"satsol\",\n\"description\": \"Satsol service\",\n\"category_id\": \"a9fa2eb9-ee13-4707-aa27-533091b31b88\",\n\"category\": \"Internet\",\n\"status\": {\n\"status\": \"Active\",\n\"available\": true,\n\"color\": \"#ff0000\"\n},\n\"image_url\": \"https://example.com/image.jpg\"\n}\n]\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/payments/services/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"payments/payments/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"payments/payments/#payment","title":"Payment","text":"Description <code>key</code> string unique Payment's unique identifier. <code>description</code> string Description of payment. <code>category_id</code> ID Payment's category identifier. <code>category</code> string Payment's category name. <code>status</code> object Payment's status. <code>image_url</code> URL string Payment's image url."},{"location":"payments/payments/#payment-status","title":"Payment status","text":"Description <code>status</code> string Payment service status. <code>available</code> boolean Is payment service available for transactions. <code>color</code> string Status color."},{"location":"reports/","title":"Reports - Introduction","text":""},{"location":"reports/consolidated/","title":"Consolidated Report generation","text":"<p>!!! danger:     WIP</p>"},{"location":"reports/consolidated/#generate-consolidated-report-request-api","title":"Generate Consolidated report request API","text":"<p>Generate Consolidated report.</p> <p><code>POST /v1/terminal-api/reports/consolidated/</code></p>"},{"location":"reports/consolidated/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"reports/consolidated/#request","title":"Request","text":"Request body <code>date_from</code> datetime required Date from which generate report. <code>date_to</code> datetime required Date to which generate report. <code>currency</code> enum Currency. <code>terminal</code> string Terminal. <code>min_amount</code> integer Records where <code>amount &gt; min_amount</code> <code>max_amount</code> integer Records where <code>amount &lt; max_amount</code>"},{"location":"reports/consolidated/#response","title":"Response","text":"<p>Danger</p> <p>WIP</p> Response <code>transaction_id</code> ID unique iumiCash transaction identifier. <code>system_transaction_id</code> string unique Terminal's internal transaction_id."},{"location":"reports/consolidated/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/reports/cross_check/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"currency\": \"SBD\"\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>{}\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/reports/cross_check/\n-H \"Content-Type: application/json\" \\\n-d ' \\\n{\n  \"currency\": \"SBD\"\n}\n'\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See more possible errors.</p> Status codeResponse body <p><code>HTTP 403 Forbidden</code></p> <pre><code>{\n\"error\": \"unauthotized\",\n\"description\": \"Authentication header not provided\",\n\"field_errors\": []\n}\n</code></pre>"},{"location":"reports/consolidated/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"reports/cross_check/","title":"Cross-Check Report generation","text":""},{"location":"reports/cross_check/#generate-cross-check-report-request-api","title":"Generate Cross-Check report request API","text":"<p>Generate Cross-Check report.</p> <p><code>POST /v1/terminal-api/reports/cross_check/</code></p>"},{"location":"reports/cross_check/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"reports/cross_check/#request","title":"Request","text":"Request body <code>date_from</code> datetime required Date from which generate report. <code>date_to</code> datetime required Date to which generate report. <code>currency</code> enum Currency. <code>terminal</code> string Terminal. <code>min_amount</code> integer Records where <code>amount &gt; min_amount</code> <code>max_amount</code> integer Records where <code>amount &lt; max_amount</code>"},{"location":"reports/cross_check/#response","title":"Response","text":"Response <p>list of transaction</p>"},{"location":"reports/cross_check/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/reports/cross_check/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"currency\": \"SBD\"\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>[\n{\n\"transaction_id\": \"639471e1a7c82be8b86e20fd\",\n\"system_transaction_id\": \"ABC124\",\n\"amount\": 1000,\n\"currency\": \"SBD\",\n\"description\": \"Terminal(Term #3) Cash In\",\n\"terminal\": \"Term #3\",\n\"status\": \"Success\",\n\"date\": \"2022-12-10T11:47:45.718Z\",\n\"fees\": {\n\"amount\": 1000,\n\"internal_fee\": 0,\n\"external_fee\": 0,\n\"internal_cashback\": 0,\n\"external_cashback\": 0,\n\"total\": 1000\n}\n}\n]\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/reports/cross_check/\n-H \"Content-Type: application/json\" \\\n-d ' \\\n{\n  \"currency\": \"SBD\"\n}\n'\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See more possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"reports/cross_check/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"reports/cross_check/#transaction","title":"Transaction","text":"Description <code>transaction_id</code> ID iumiCash transaction identifier. You can use it later to check transaction details. <code>system_transaction_id</code> string Terminal's internal transaction_id. <code>amount</code> integer required Deposit amount. <code>currency</code> enum Currency. <code>description</code> string Description of transaction. <code>terminal</code> string Terminal. <code>status</code> enum Transaction's status. <code>date</code> datetime Date of transaction. <code>fees</code> fees* Fees of transaction."},{"location":"reports/cross_check/#fees","title":"Fees","text":"Description <code>amount</code> integer Amount. <code>internal_fee</code> integer Internal fee. <code>external_fee</code> integer External fee. <code>internal_cashback</code> integer Internal cashback. <code>external_cashback</code> integer External cashback. <code>total</code> integer Total."},{"location":"transactions/cash_in/","title":"Deposit request","text":""},{"location":"transactions/cash_in/#deposit-request-api","title":"Deposit request API","text":"<p>Deposit money request.</p> <p><code>POST /v1/terminal-api/transactions/cash-in</code></p>"},{"location":"transactions/cash_in/#headers","title":"Headers","text":"Header parameters <code>RequestId</code> string Idempotency key for request. See idempotency for more information. <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"transactions/cash_in/#request","title":"Request","text":"Request body <code>username</code> string required User's username. <code>amount</code> integer required Deposit amount. <code>system_transaction_id</code> string required Terminal's internal <code>transaction_id</code>. <code>terminal_id</code> string required From which terminal making deposit request."},{"location":"transactions/cash_in/#response","title":"Response","text":"Response <code>transaction_id</code> ID unique iumiCash transaction identifier. You can use it later to check transaction details. <code>system_transaction_id</code> string unique Terminal's internal transaction_id. <code>created_at</code> datetime Created time of the transaction in ISO format. <code>cheque_content</code> list of cheque field Cheque fields that rendered by terminal."},{"location":"transactions/cash_in/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/cash-in \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"username\": \"fshevchenko\",\n  \"amount\": 1000,\n  \"system_transaction_id\": \"123456\",\n  \"terminal_id\": \"190AB\"\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 201 Created</code></p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"123456\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"cheque_content\": [\n{\n\"label\": \"Created At\",\n\"value\": \"23 May 2022 at 12:36\",\n\"position\": 1,\n\"section\": \"main\"\n},\n{\n\"label\": \"Description\",\n\"value\": \"Cash In for @fshevchenko account\",\n\"position\": 2,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash Transaction\",\n\"value\": \"390IDFE2\",\n\"position\": 3,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal transaction\",\n\"value\": \"123456\",\n\"position\": 4,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal\",\n\"value\": \"190AB\",\n\"position\": 5,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash fee\",\n\"value\": \"0.10 $SBD\",\n\"position\": 6,\n\"section\": \"total\"\n},\n{\n\"label\": \"Amount\",\n\"value\": \"9.90 $SBD\",\n\"position\": 7,\n\"section\": \"total\"\n},\n{\n\"label\": \"Total\",\n\"value\": \"10.00 $SBD\",\n\"position\": 8,\n\"section\": \"total\"\n}\n]\n}\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/transactions/cash-in \\\n-H \"Content-Type: application/json\" \\\n-d ' \\\n{\n  \"username\": \"fshevchenko\",\n  \"amount\": 1000,\n  \"system_transaction_id\": \"123456\",\n  \"terminal_id\": \"190AB\"\n}\n'\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See more possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"transactions/cash_in/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"transactions/cash_in/#cheque-field","title":"Cheque field","text":"<p>This schema is used for render specific field on cheque.</p> Description <code>label</code> string Label of the field that will be rendered on the cheque. <code>value</code> string Value of the field that will be rendered on the cheque. <code>position</code> integer Position of the field on cheque. <code>section</code> enum <p>Section of the field. This value shows specific section of field. Can be one of follows:</p> <ul> <li><code>main</code></li> <li><code>total</code></li> </ul>"},{"location":"transactions/cash_in/#currencies","title":"Currencies","text":"Description <p>Possible values:</p> <ul> <li><code>SBD</code></li> <li><code>NZD</code></li> </ul>"},{"location":"transactions/send_payment/","title":"Pay for service","text":""},{"location":"transactions/send_payment/#pay-for-service-request-api","title":"Pay for service request API","text":"<p>Pay for service request.</p> <p><code>POST /v1/terminal-api/transactions/payments</code></p>"},{"location":"transactions/send_payment/#headers","title":"Headers","text":"Header parameters <code>RequestId</code> string Idempotency key for request. See idempotency for more information. <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"transactions/send_payment/#request","title":"Request","text":"Request body <code>key</code> string required Payment service type. <code>credentials</code> object required Payment credentials. See credentials for more information. <code>amount</code> integer required Deposit amount. <code>system_transaction_id</code> string required Terminal's internal <code>transaction_id</code>. <code>terminal_id</code> string required From which terminal making deposit request."},{"location":"transactions/send_payment/#response","title":"Response","text":"Response <code>transaction_id</code> ID unique <p>iumiCash transaction identifier. You can use it later to check transaction details.</p> <code>system_transaction_id</code> string unique <p>Terminal's internal transaction_id.</p> <code>created_at</code> datetime <p>Created time of the transaction in ISO format.</p> <code>cheque_content</code> list of cheque field Cheque fields that will be rendered."},{"location":"transactions/send_payment/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <p>Data notice</p> <p>Please, pay attention, that data in this example is not real. Example shows only usage strategies.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/payments/ \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"8509813\"\n  },\n  \"amount\": 1000,\n  \"system_transaction_id\": \"123456\",\n  \"terminal_id\": \"190AB\",\n  \"fees\": {\n    \"internal_fee\": 40,\n    \"external_fee\": 30,\n    \"internal_cashback\": 20,\n    \"external_cashback\": 10\n  }\n}\n'\n</code></pre> <p>A successful request returns the <code>HTTP 201 Created</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 201 Created</code></p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"123456\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"cheque_content\": [\n{\n\"label\": \"Created At\",\n\"value\": \"23 May 2022 at 12:36\",\n\"position\": 1,\n\"section\": \"main\"\n},\n{\n\"label\": \"Description\",\n\"value\": \"8509813 recharged with SBD $10 (Transaction ID: 0927165328159047)\",\n\"position\": 2,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash Transaction\",\n\"value\": \"390IDFE2\",\n\"position\": 3,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal transaction\",\n\"value\": \"123456\",\n\"position\": 4,\n\"section\": \"main\"\n},\n{\n\"label\": \"Terminal\",\n\"value\": \"190AB\",\n\"position\": 5,\n\"section\": \"main\"\n},\n{\n\"label\": \"iumiCash fee\",\n\"value\": \"0.40 $SBD\",\n\"position\": 6,\n\"section\": \"total\"\n},\n{\n\"label\": \"Bmobile fee\",\n\"value\": \"0.30 $SBD\",\n\"position\": 7,\n\"section\": \"total\"\n},\n{\n\"label\": \"iumiCash cashback\",\n\"value\": \"0.20 $SBD\",\n\"position\": 8,\n\"section\": \"total\"\n},\n{\n\"label\": \"Bmobile cashback\",\n\"value\": \"0.10 $SBD\",\n\"position\": 9,\n\"section\": \"total\"\n},\n{\n\"label\": \"Amount\",\n\"value\": \"9.60 $SBD\",\n\"position\": 10,\n\"section\": \"total\"\n},\n{\n\"label\": \"Total\",\n\"value\": \"10.00 $SBD\",\n\"position\": 11,\n\"section\": \"total\"\n}\n]\n</code></pre> Service is unavailable RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/payments/ \\\n-H \"Content-Type: application/json\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"8509813\"\n  },\n  \"amount\": 1000,\n  \"fees\": {\n    \"internal_fee\": 10,\n    \"external_fee\": 10,\n    \"internal_cashback\": 10,\n    \"external_cashback\": 10,\n  },\n  \"terminal_id\": \"190AB\"\n}\n'\n</code></pre> <p>Payment service unavailable. In this example, <code>Bmobile</code>.</p> <p>Tip</p> <p>See more possible errors.</p> Status codeResponse body <p><code>HTTP 400 Bad Request</code></p> <pre><code>{\n\"error\": \"payment_service_unavailable\",\n\"description\": \"Service Bmobile in unavailable\",\n\"field_errors\": []\n}\n</code></pre> <p>Internal Error Case</p> <p>Due to the fact that users have already deposited money and the terminal cannot return them,  it is necessary to ensure that payment for the service will be made as soon as possible  (the ability to check the transaction status).  That is, if the service cannot be paid with the current credentials or because of other reasons,  then the user will be able to get the money back at the iumiCash trading office when providing a check,  that specifies the ID of the unsuccessful transaction.</p> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X POST https://iumi.cash/v1/terminal-api/transactions/payments/ \\\n-H \"Content-Type: application/json\" \\\n-H \"RequestId: 7b92603e-77ed-4896-8e78-5dea2050476a\" \\\n-d ' \\\n{\n  \"key\": \"bmobile\",\n  \"credentials\": {\n    \"phone\": \"8509813\"\n  },\n  \"amount\": 1000,\n  \"fees\": {\n    \"internal_fee\": 10,\n    \"external_fee\": 10,\n    \"internal_cashback\": 10,\n    \"external_cashback\": 10,\n  },\n  \"terminal_id\": \"190AB\"\n}\n'\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See more possible errors.</p> Status codeResponse body <p><code>HTTP 403 Forbidden</code></p> <pre><code>{\n\"error\": \"unauthotized\",\n\"description\": \"Authentication header not provided\",\n\"field_errors\": []\n}\n</code></pre>"},{"location":"transactions/send_payment/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"transactions/send_payment/#currencies","title":"Currencies","text":"Description <p>Possible values:</p> <ul> <li><code>SBD</code></li> <li><code>NZD</code></li> </ul>"},{"location":"transactions/send_payment/#fees","title":"Fees","text":"Description <code>internal_fee</code> integer Internal fee amount. <code>external_fee</code> integer External fee amount. <code>internal_cashback</code> integer Internal cashback amount. <code>external_cashback</code> integer External cashback amount."},{"location":"transactions/send_payment/#statuses","title":"Statuses","text":"Description <p>Possible values:</p> <ul> <li>Success</li> <li>Pending</li> <li>Failed</li> </ul>"},{"location":"transactions/status_by_external_id/","title":"Transaction status","text":""},{"location":"transactions/status_by_external_id/#get-transaction-status-request-api","title":"Get transaction status request API","text":"<p>Get transaction status request.</p> <p><code>GET /v1/terminal-api/transactions/external/&lt;system_transaction_id&gt;</code></p> <p>Tip</p> <p><code>system_transaction_id</code> is a terminal system transaction identifier. This parameter is used in requests such as  Cash In and Pay for service requests.</p>"},{"location":"transactions/status_by_external_id/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"transactions/status_by_external_id/#response","title":"Response","text":"Response <code>transaction_id</code> ID unique <p>iumiCash transaction identifier.</p> <code>system_transaction_id</code> text <p>Terminal system transaction identifier. You can use it later to check transaction details.</p> <code>created_at</code> datetime <p>Cheque content can be one of follows:</p> <code>status</code> enum <p>Transaction status. Can be one of follows:</p> <ul> <li><code>Success</code></li> <li><code>Pending</code></li> <li><code>Failed</code></li> <li><code>Unknown</code></li> </ul>"},{"location":"transactions/status_by_external_id/#examples","title":"Examples","text":"Registered transaction RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/transactions/external/31212 \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"31212\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"status\": \"Success\"\n}\n</code></pre> <p>Warning</p> <p>The transaction may not be saved in the iumiCash database for a number of reasons.  Therefore, it is important to conduct cross-check transactions. Below is an example of a transaction request that exists in the terminal system, but does not exist in iumiCash.</p> Unknown transaction RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/transactions/external/31213 \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n</code></pre> <p>A successful request returns the <code>HTTP 404 Not Found</code> status code and a JSON response body.</p> <pre><code>{\n\"transaction_id\": null,\n\"system_transaction_id\": \"31213\",\n\"created_at\": null,\n\"status\": \"Unknown\"\n}\n</code></pre>"},{"location":"transactions/status_by_internal_id/","title":"Transaction status","text":""},{"location":"transactions/status_by_internal_id/#get-transaction-status-request-api","title":"Get transaction status request API","text":"<p>Get transaction status request.</p> <p><code>GET /v1/terminal-api/transactions/internal/&lt;transaction_id&gt;</code></p> <p>Tip</p> <p><code>transaction_id</code> is a iumiCash transaction identifier. This parameter is used in response such as Cash In and Pay for service requests.</p>"},{"location":"transactions/status_by_internal_id/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code> <code>Content-Type</code> string required The media type. Required for operations with a request body. The value is <code>application/&lt;format&gt;</code>, where format is <code>json</code>."},{"location":"transactions/status_by_internal_id/#response","title":"Response","text":"Response <code>transaction_id</code> ID unique <p>iumiCash transaction identifier. You can use it later to check transaction details.</p> <code>system_transaction_id</code> text <p>Terminal system transaction identifier.</p> <code>created_at</code> datetime <p>Cheque content can be one of follows:</p> <code>status</code> enum <p>Transaction status. Can be one of follows:</p> <ul> <li><code>Success</code></li> <li><code>Pending</code></li> <li><code>Failed</code></li> <li><code>Unknown</code></li> </ul>"},{"location":"transactions/status_by_internal_id/#examples","title":"Examples","text":"Registered transaction RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/transactions/internal/390IDFE2 \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> <pre><code>{\n\"transaction_id\": \"390IDFE2\",\n\"system_transaction_id\": \"31212\",\n\"created_at\": \"2022-05-23T12:36:23\",\n\"status\": \"Success\"\n}\n</code></pre> <p>Warning</p> <p>The transaction may not be saved in the iumiCash database for a number of reasons. Therefore, it is important to conduct cross-check transactions. Below is an example of a transaction request that exists in the terminal system, but does not exist in iumiCash.</p> Unknown transaction RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/transactions/internal/31213 \\\n-H \"Content-Type: application/json\" \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\" \\\n</code></pre> <p>A successful request returns the <code>HTTP 404 Not Found</code> status code and a JSON response body.</p> <pre><code>{\n\"transaction_id\": \"31213\",\n\"system_transaction_id\": null,\n\"created_at\": null,\n\"status\": \"Unknown\"\n}\n</code></pre>"},{"location":"transactions/statuses/","title":"Transaction Statuses","text":""},{"location":"transactions/statuses/#possible-statuses","title":"Possible Statuses","text":"<ul> <li>Success</li> <li>Pending</li> <li>Failed</li> <li>Unknown</li> </ul> <p>Best practise</p> <p>It may be worth doing requests with the same <code>RequestId</code> to register a transaction in iumiCash until the status of this transaction is <code>Unknown</code>.</p>"},{"location":"users/retrieve/","title":"Retrieve user","text":""},{"location":"users/retrieve/#retrieve-user-api","title":"Retrieve user API","text":"<p>Retrieve user by <code>username</code></p> <p><code>GET /v1/terminal-api/users/&lt;username:str&gt;/</code></p>"},{"location":"users/retrieve/#headers","title":"Headers","text":"Header parameters <code>Authorization</code> string required To make REST API calls, include the basic authorization in this header with the <code>Basic</code> authentication scheme.   The value is <code>Basic &lt;base64string email:password&gt;</code>"},{"location":"users/retrieve/#response","title":"Response","text":"Response <code>username</code> string unique User's username. <code>first_name</code> string User's first name. <code>last_name</code> string User's last name. <code>currency</code> enum. See available currencies. Currency of account."},{"location":"users/retrieve/#examples","title":"Examples","text":"Successful request RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/users/john_doe/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>A successful request returns the <code>HTTP 200 OK</code> status code and a JSON response body.</p> Status codeResponse body <p><code>HTTP 200 OK</code></p> <pre><code>{\n\"username\": \"john_doe\",\n\"first_name\": \"John\",\n\"last_name\": \"Doe\",\n\"currency\": \"NZD\"\n}\n</code></pre> Username not exist RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/users/unexist/ \\\n-H \"Authorization: Basic &lt;base64 encoded email:password&gt;\"\n</code></pre> <p>When username not exist, you will see error message. </p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 404 Not Found</code></p> <pre><code>{\n\"message\": \"unexist not found\"\n}\n</code></pre> Authentication header not provided RequestResponse <p>Example request with cURL. You can make this request in any programming language.</p> <pre><code>curl -v -X GET https://iumi.cash/v1/terminal-api/users/my_username/\n</code></pre> <p>If you not provide authentication header, you will see error message.</p> <p>Tip</p> <p>See another possible errors.</p> Status codeResponse body <p><code>HTTP 401 Unauthorized</code></p> <pre><code>{\n\"message\": \"unauthorized\"\n}\n</code></pre>"},{"location":"users/retrieve/#objects","title":"Objects","text":"<p>Request and response objects</p>"},{"location":"users/retrieve/#currencies","title":"Currencies","text":"Description <p>Possible values:</p> <ul> <li><code>SBD</code></li> <li><code>NZD</code></li> </ul>"}]}